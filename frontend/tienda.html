<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tienda en línea - Moda Boutique Panamá</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="main-header">
    <div class="logo">
      <span class="logo-mark">MB</span>
      <span class="logo-text">Moda Boutique Panamá</span>
    </div>
    <nav class="main-nav">
      <span class="nav-link-pill">Tienda en línea</span>
      <span class="badge-env">Backend: http://localhost:4000</span>
    </nav>
  </header>

  <!-- Hero bonito para la tienda -->
  <main class="main-container store-main">
    <section class="store-hero card">
      <div class="store-hero-text">
        <h1>Descubre tu estilo hoy</h1>
        <p>
          Explora nuestro catálogo de blusas, pantalones y outfits seleccionados.
          Compra en línea y recoge en tienda o recibe en la puerta de tu casa.
        </p>
        <div class="store-hero-actions">
          <a href="#catalogo" class="btn btn-primary">
            Ver catálogo
          </a>
          <span class="store-hero-badge">
            ✨ Nuevas colecciones cada semana
          </span>
        </div>
      </div>
      <div class="store-hero-image">
        <div class="store-hero-circle"></div>
        <div class="store-hero-card">
          <p>Hasta <strong>50% OFF</strong> en productos seleccionados</p>
        </div>
      </div>
    </section>

    <!-- Layout principal: catálogo + cuenta/carrito -->
    <section class="app-layout store-layout" id="catalogo">
      <!-- Catálogo de productos -->
      <section class="content card store-catalog-card">
        <header class="content-header store-catalog-header">
          <div>
            <h2>Catálogo de productos</h2>
            <p class="subtitle">
              Filtra por talla, color y variantes disponibles. Solo se muestran productos con stock.
            </p>
          </div>
          <div class="store-filters">
            <div class="chip chip-active">Todos</div>
            <div class="chip">Blusas</div>
            <div class="chip">Pantalones</div>
            <div class="chip">Vestidos</div>
            <div class="chip">Accesorios</div>
          </div>
        </header>

        <div id="catalog-grid" class="catalog-grid">
          <!-- Se llena desde tienda.js -->
        </div>

        <p id="catalog-message" class="form-message"></p>
      </section>

      <!-- Sidebar: cuenta y carrito -->
      <aside class="sidebar card ecom-sidebar">
        <!-- Panel de cuenta -->
        <section class="ecom-card ecom-account-card">
          <h3>Mi cuenta</h3>
          <p class="subtitle" id="client-status">
            No has iniciado sesión.
          </p>

          <div class="sidebar-menu store-auth-tabs">
            <button
              class="btn btn-secondary btn-block"
              data-auth-tab="login"
              id="btn-tab-login"
            >
              Iniciar sesión
            </button>
            <button
              class="btn btn-outline btn-block"
              data-auth-tab="register"
              id="btn-tab-register"
            >
              Crear cuenta
            </button>
          </div>

          <!-- Login -->
          <form id="client-login-form" class="form mt-2">
            <div class="form-group">
              <label for="client-login-email">Correo electrónico</label>
              <input
                type="email"
                id="client-login-email"
                placeholder="cliente@correo.com"
                required
              />
            </div>
            <div class="form-group">
              <label for="client-login-password">Contraseña</label>
              <input
                type="password"
                id="client-login-password"
                placeholder="********"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary btn-block">
              Iniciar sesión
            </button>
            <p id="client-login-message" class="form-message"></p>
          </form>

          <!-- Registro -->
          <form
            id="client-register-form"
            class="form mt-2 hidden"
          >
            <div class="form-group">
              <label for="client-register-name">Nombre completo</label>
              <input
                type="text"
                id="client-register-name"
                placeholder="Ej: Ana Pérez"
                required
              />
            </div>
            <div class="form-group">
              <label for="client-register-email">Correo electrónico</label>
              <input
                type="email"
                id="client-register-email"
                placeholder="cliente@correo.com"
                required
              />
            </div>
            <div class="form-group">
              <label for="client-register-password">Contraseña</label>
              <input
                type="password"
                id="client-register-password"
                placeholder="Mínimo 6 caracteres"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary btn-block">
              Crear cuenta
            </button>
            <p id="client-register-message" class="form-message"></p>
          </form>

          <button
            id="client-logout-btn"
            class="btn btn-outline btn-block mt-2 hidden"
          >
            Cerrar sesión
          </button>
        </section>

        <!-- Panel de carrito -->
        <section class="ecom-card mt-2 ecom-cart-card">
          <div class="ecom-cart-header">
            <div>
              <h3>Carrito</h3>
              <p class="subtitle">
                Revisa los productos antes de confirmar tu pedido.
              </p>
            </div>
            <span class="badge-cart">
              <span id="cart-count">0</span> ítems
            </span>
          </div>

          <div class="table-wrapper cart-table-wrapper">
            <table class="table">
              <thead>
                <tr>
                  <th>Producto</th>
                  <th>Variante</th>
                  <th>Cant.</th>
                  <th>Subtotal</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="cart-body">
                <!-- Items del carrito -->
              </tbody>
            </table>
          </div>

          <div class="pos-summary store-summary">
            <div>
              <p class="store-summary-label">Total a pagar</p>
              <p class="store-summary-total">
                B/. <span id="cart-total">0.00</span>
              </p>
            </div>
          </div>

          <form id="order-form" class="form mt-2">
            <div class="form-group">
              <label for="order-address">Dirección de envío</label>
              <textarea
                id="order-address"
                rows="2"
                placeholder="Calle, edificio, referencia..."
              ></textarea>
            </div>
            <div class="form-group">
              <label for="order-payment">Método de pago</label>
              <select id="order-payment" required>
                <option value="">Selecciona...</option>
                <option value="Yappy">Yappy</option>
                <option value="Tarjeta">Tarjeta</option>
                <option value="Efectivo contra entrega">
                  Efectivo contra entrega
                </option>
              </select>
            </div>
            <button type="submit" class="btn btn-secondary btn-block">
              Realizar pedido
            </button>
            <p id="order-message" class="form-message"></p>
          </form>
        </section>
      </aside>
    </section>
  </main>

  <footer class="main-footer">
    <p>Moda Boutique Panamá &copy; 2025 - Tienda en línea</p>
  </footer>

  <script src="js/tienda.js"></script>
</body>
</html>
